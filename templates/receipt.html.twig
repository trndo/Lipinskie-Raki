{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <style>
        .modalBox {
            position: fixed; /* create the modal window layer, and have it fill the entire screen */
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8); /* set the modal window layer's background color to a translucent black */
            z-index: 99999; /* put the layer on top of every other layer */

            display: none;
        }
        .modalBox > div {
            width: 500px; /* set the window's width */
            position: relative;
            margin: 10% auto; /* center the window horizontally */
            padding: 5px;
            background: #fff;
        }
    </style>
{% endblock %}
{% block body %}
    <div class="container">
        <div class="without-top-container">
            {% include 'elements/__header.html.twig' with {'active': active } %}
        </div>
            <main>
                <div class="receipt-container">
                    <img src="{{ item.getTitlePhotoPath }}" alt="">
                    <div class="receipt-info">
                        <div class="receipt-name" {% if item.products.count == 1 and item.products[0].ProductSize is null %} data-related="product-{{ item.products[0].id }}"{% endif %}>
                            {{ item.name }}
                        </div>
                        <div class="description">
                            {{ item.description }}
                        </div>
                        {% if item.products is defined and item.products[0].ProductSize %}
                        <div class="receipt-sizes">
                            <h4>
                                Выбери размер:
                            </h4>
                            <div class="receipt-sizes-container">
                                {% for relatedProduct in item.products %}
                                <div class="size-block" data-name="product-{{ relatedProduct.id }}" data-size="{{ relatedProduct.ProductSize  }}">
                                    {{ relatedProduct.ProductSize }}
                                </div>
                                {% endfor %}
                            </div>
                            {% endif %}
                            <div class="product-price receipt-price">
                                {{ item.price }} грн / {{ item.unit }}.<span class="special-price-receipt special-price">550 грн</span>
                            </div>
                            <div class="product-to-basket">
                                <div class="quantity">
                                    <span data- class="plus item-plus">+</span>
                                    <div class="quantity-res item-res">
                                        <input type="number" value="1">
                                    </div>
                                    <span class="minus item-minus">-</span>
                                </div>
                                {% if app.session.get('orderChoose') is not null %}
                                <div class="custom-button add-basket " data-name="{{ item.id }}" data-type="{{ item.getType }}">
                                    Добавить в козину
                                </div>
                                {% else %}
                                    <div class="custom-button order-type show-modal" data-name="{{ item.id }}" data-type="{{ item.getType }}">
                                        Добавить в козину
                                    </div>
                                {% endif %}

                            </div>
                        </div>
                        <div class="percent-promotion">
                                    <span id="percent">
                                        -5 %
                                    </span>
                            <span id="percent-date">
                                        до 10/11/12
                                    </span>
                        </div>
                    </div>
                </div>
            </main>
        <div class="container-inside-product">
            <div class="additional-products">
                <div class="see-also">
                    Посмотри так же
                </div>
                <div class="row additional-products-row">
                    <div class="col-4">
                        <div class="product-card">
                            <img src="{{ asset('assets/img/test.jpg') }}" alt="">
                            <div class="card-content">
                                <h4>Живой рак вкусный прекрасный</h4>
                                <p>вафвлоыафждлвпофждпыо вафыв в</p>
                                <span class="price">₴ 220</span>
                                <div class="in_basket" >В корзину</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="product-card">
                            <img src="{{ asset('assets/img/test.jpg') }}" alt="">
                            <div class="card-content">
                                <h4>Живой рак вкусный прекрасный</h4>
                                <p>вафвлоыафждлвпофждпыо вафыв в</p>
                                <span class="price">₴ 220</span>
                                <div class="in_basket" >В корзину</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="product-card">
                            <img src="{{ asset('assets/img/test.jpg') }}" alt="">
                            <div class="card-content">
                                <h4>Живой рак вкусный прекрасный</h4>
                                <p>вафвлоыафждлвпофждпыо вафыв в</p>
                                <span class="price">₴ 220</span>
                                <div class="in_basket" >В корзину</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="modalWindow" class="modalBox">
    <div>
        <a class="closeWindow" href="#close">X</a>
        <div class="custom-button choose-type" data-order="today">
            Сегодня
        </div>
        <div class="custom-button choose-type" data-order="tomorrow">
            Другой день
        </div>
    </div>
    </div>
    {% include 'elements/__footer.html.twig' with {'active': active } %}
    <div id="overlay" style="display: none">
        <div class="red-content">
            <div id="shopping-cart">
                <embed type="image/svg+xml" src="/assets/img/shopping-cart.svg"/>
            </div>
            <div class="check-shopping">
                <p>
                    Точно всё выбрал?
                </p>
                <h4>
                    Проверяй и оформляй
                </h4>
            </div>
            <div class="cart-container cartItems">
                <div class="order">
                    <img src="{{ asset('assets/img/test.jpg') }}" alt="">
                    <div class="order-product-name">
                    </div>
                </div>
            </div>
            <embed id="close-modal" type="image/svg+xml" src="/assets/img/close-modal.svg"/>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous">
    </script>
    <script>

    </script>
{% endblock %}